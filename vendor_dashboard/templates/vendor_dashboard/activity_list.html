{% extends 'vendor_dashboard/base.html' %}
{% load static %}

{% block main_content %}
<div class="page-wapper m-4" style="min-height: 100vh;">    
    <div class="">
        <table class="table table-hover table-nowrap">
            <thead class="table-light">
                <tr>
                    <th id="t-Head" scope="col">Activity ID</th>
                    <th id="t-Head" scope="col">Activity Content</th>
                    <th id="t-Head" scope="col">Activity Image</th>
                    <th id="t-Head" scope="col">Date And Time</th>
                </tr>
            </thead>
            <tbody>
                {% for activity in activities %}
                <tr>
                    <td>{{ activity.id }}</td>
                    <td class="" style="max-width: 50vw;">{{ activity.activity_content }}</td>
                    <!-- Image with click event to open modal -->
                    <td>
                        <a href="#" data-bs-toggle="modal" data-bs-target="#imageModal" onclick="showImage('{{ activity.activity_image.url }}')">
                            <img src="{{ activity.activity_image.url }}" alt="Garden Image" style="height: 50px; width: 50px;">
                        </a>
                    </td>
                    <td>{{ activity.date_time }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% include 'app_common/snippets/pagination.html' %}
    </div>
</div>

<!-- Modal for displaying the larger image -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-labelledby="imageModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="imageModalLabel">Activity Image</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <img id="modalImage" src="" alt="Activity Image" class="img-fluid" style="max-height: 400px;">
            </div>
        </div>
    </div>
</div>

<!-- JavaScript to set the modal image source -->
<script>
    function showImage(imageUrl) {
        document.getElementById('modalImage').src = imageUrl;
    }
</script>
{% endblock main_content %}
