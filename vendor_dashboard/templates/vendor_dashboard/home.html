{% extends 'vendor_dashboard/base.html' %}
{% load static %}

{% block main_content %}

<main class="content px-3 py-4">
    <div class="container-fluid">
        <div class="mb-3">
            
            <div class="row">
                <div class="col-12 col-md-4 ">
                    <div class="card border-left-primary shadow h-100 py-2 dash-card1">
                        <div class="card-body py-4" style="color: white;">
                            <h5 class="mb-2 fw-bold">
                                My Progress
                            </h5>
                            <p class="mb-2 fw-bold">
                                <i class="fas fa-rupee-sign"></i>&nbsp;&nbsp;{{earnings_today}}
                            </p>
                            <div class="mb-0">
                                <span class=" fw-bold">
                                    Income Of Today
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4 ">
                    <div class="card border-left-success shadow h-100 py-2 dash-card2">
                        <div class="card-body py-4" style="color: white;">
                            <h5 class="mb-2 fw-bold">
                                My Progress
                            </h5>
                            <p class="mb-2 fw-bold">
                                <i class="fas fa-rupee-sign"></i>&nbsp;&nbsp;{{earnings_month}}
                            </p>
                            <div class="mb-0">
                                <span class="fw-bold">
                                    Income Of This Month
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-md-4 ">
                    <div class="card border-left-success shadow h-100 py-2 dash-card3">
                        <div class="card-body py-4" style="color: white;">
                            <h5 class="mb-2 fw-bold">
                                My Progress
                            </h5>
                            <p class="mb-2 fw-bold">
                                <i class="fas fa-rupee-sign"></i>&nbsp;&nbsp;{{earnings_year}}
                            </p>
                            <div class="mb-0">
                                <span class="fw-bold">
                                    Income Of This Year
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</main>
<div class="section" style="margin-bottom: 5rem;">
    <div class="lboard_section mx-5">
        <div class="lboard_tabs">
            <div class="tabs">
                <ul>
                    <li data-li="today">Today</li>
                    <li class="active" data-li="month">Month</li>
                    <li data-li="year">Year</li>
                </ul>
            </div>
        </div>

        <div class="lboard_wrap">
            <div class="lboard_item today" style="display: none;">
                {% for vendor, amount, percentage in vendor_and_percentages_today %}
                <div class="lboard_mem">
                    <div class="img">
                        {% if vendor.user_image %}
                            <img src="{{ vendor.user_image.url }}" alt="picture_{{ forloop.counter }}">
                        {% else %}
                            <img src="pic_2.png" alt="picture_{{ forloop.counter }}">
                        {% endif %}
                    </div>
                    <div class="name_bar">
                        <p><span>{{ forloop.counter }}.</span> {{ vendor.full_name }}</p>
                        <div class="bar_wrap">
                            <div class="inner_bar" style="width: {{ percentage }}%;"></div>
                        </div>
                    </div>
                    <div class="points">
                        {{ amount|floatformat:2 }}
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="lboard_item month" style="display: block;">
                {% for vendor, amount, percentage in vendor_and_percentages_month %}
                <div class="lboard_mem">
                    <div class="img">
                        {% if vendor.user_image %}
                            <img src="{{ vendor.user_image.url }}" alt="picture_{{ forloop.counter }}">
                        {% else %}
                            <img src="pic_2.png" alt="picture_{{ forloop.counter }}">
                        {% endif %}
                    </div>
                    <div class="name_bar">
                        <p><span>{{ forloop.counter }}.</span> {{ vendor.full_name }}</p>
                        <div class="bar_wrap">
                            <div class="inner_bar" style="width: {{ percentage }}%;"></div>
                        </div>
                    </div>
                    <div class="points">
                        {{ amount|floatformat:2 }}
                    </div>
                </div>
                {% endfor %}
            </div>
            <div class="lboard_item year" style="display: none;">
                {% for vendor, amount, percentage in vendor_and_percentages_year %}
                <div class="lboard_mem">
                    <div class="img">
                        {% if vendor.user_image %}
                            <img src="{{ vendor.user_image.url }}" alt="picture_{{ forloop.counter }}">
                        {% else %}
                            <img src="pic_2.png" alt="picture_{{ forloop.counter }}">
                        {% endif %}
                    </div>
                    <div class="name_bar">
                        <p><span>{{ forloop.counter }}.</span> {{ vendor.full_name }}</p>
                        <div class="bar_wrap">
                            <div class="inner_bar" style="width: {{ percentage }}%;"></div>
                        </div>
                    </div>
                    <div class="points">
                        {{ amount|floatformat:2 }}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock main_content %}