{% extends 'admin_dashboard/starter.html' %}
{% load static %}

{% block title %}Vendor Registration{% endblock title %}

{% block content %}
<div class="container my-5">
    <div class="row pt-5 justify-content-center">
        <div class="col-lg-9 col-md-10 col-sm-12 mb-5 form-container p-4">
            <div class="row">
                <!-- Left Column -->
                <div class="col-lg-12 col-md-12 col-sm-12 py-4 px-5">
                    <h2 class="text-center mb-4">Registration</h2>
                    <form id="registration-form" method="post" action="" class="text-black" enctype="multipart/form-data">
                        {% csrf_token %}

                        <!-- Registration Section -->
                        <h3 class="mb-3">User Registration</h3>
                        <div class="form-group mb-3">
                            {{ form.full_name }}
                        </div>

                        <div class="form-group mb-3">
                            <div class="input-group">
                                {{ form.email }}
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            {{ form.contact }}
                        </div>

                        <div class="form-group mb-3" id="city_choose">
                            {{ form.city }}
                        </div>
                    
                        <div class="form-group mb-3" id="other_city_div" style="display: none;">
                            {{ form.other_city }}
                        </div>

                        <div class="form-group mb-3">
                            <div class="password-wrapper">
                                {{ form.password }}
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <div class="password-wrapper">
                                {{ form.confirm_password }}
                            </div>
                        </div>

                        <!-- Details Section -->
                        <h3 class="mb-3">Vendor Details</h3>
                        <div class="form-group mb-3">
                            {{ form.business_name }}
                        </div>
                        <div class="form-group mb-3">
                            {{ form.business_address }}
                        </div>
                        <div class="form-group mb-3">
                            {{ form.business_description }}
                        </div>
                        <div class="form-group mb-3">
                            {{ form.business_license_number }}
                        </div>
                        <div class="form-group mb-3"></div>
                            {{ form.business_category }}
                        </div>
                        <div class="form-group mb-3" id="other_category_div" style="display: none;">
                            {{ form.other_business_category }}
                        </div>
                        <div class="form-group mb-3">
                            {{ form.establishment_year }}
                        </div>
                        <div class="form-group mb-3">
                            {{ form.website }}
                        </div>
                        <div class="form-group mb-3">
                            {{ form.established_by }}
                        </div>

                        <!-- Quiz Section -->
                        <h3 class="mb-3">Add Green Coin</h3>
                        <div class="form-group mb-3">
                            {{ form.add_green_coins }}
                        </div>

                        <div class="text-center">
                            <button class="log_btn" id="submit-btn" type="submit">Sign Up</button>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block js %}
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const cityField = document.querySelector("#id_city");
        const otherCityDiv = document.querySelector("#other_city_div");

        
        // Initial check on page load
        if (cityField.value === "Other") {
            otherCityDiv.style.display = "block";
        } else {
            otherCityDiv.style.display = "none";
        }

        cityField.addEventListener("change", function () {
            if (cityField.value === "Other") {
                otherCityDiv.style.display = "block";
            } else {
                otherCityDiv.style.display = "none";
            }
        });

        const businessCategoryField = document.querySelector("#id_business_category");
        const otherBusinessCategoryDiv = document.querySelector("#other_category_div");
        // Initial check on page load
        if (businessCategoryField.value === "other") {
            otherBusinessCategoryDiv.style.display = "block";
        } else {
            otherBusinessCategoryDiv.style.display = "none";
        }

        businessCategoryField.addEventListener("change", function () {
            if (businessCategoryField.value === "other") {
                otherBusinessCategoryDiv.style.display = "block";
            } else {
                otherBusinessCategoryDiv.style.display = "none";
            }
        });
    });
</script>
{% endblock js %}
